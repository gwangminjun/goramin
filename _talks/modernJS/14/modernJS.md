---
title: "[모던 자바 스크립트] 14장 전역변수의 문제점"
collection: talks
type: "Talk"
permalink: _talks/modernJS/14/modernJS
date: 2024-03-24
---

## 14 전역변수의 문제점

### 생명주기

변수는 생물과 유사하게 생성되고 소멸되는 생명주기가 있다. <br>
전역변수는 애플리케이션이 종료 될때 까지 메모리를 점유하기때문에 애플리케이션의 생명주기와 같다 <br>
하지만 지역변수의 경우 함수의 호출되어 실행하는 동안에만 유효하므로 함수의 생명주기와 같다 <br>

변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름이다 <br>
그리하여 변수의 생명주기는 <br>

1. 메모리 공간이 확보된 시점 부터
2. 메모리 공간이 해체 되어
3. 가용메모리 풀에 반환되는 시점까지다.

### 호이스팅의 재정의

호이스팅은 스코프를 단위로 동작한다 <br>
즉 호이스팅은 변수선언이 스코프의 선두로 끌어 올려진것처럼 동작한다.

### 전역객체

전역객체란 코드가 실행되기 이전단계에 자바스크립트 엔진에 의해 어떤 객체보다 먼저 생성되는 객체이다 <br>
클라이언트 사이드 환경 (브라우저) 에서는 window 객체 <br>
서버 사이드 환경 (node.js) 에서는 global 객체를 의미한다 <br>
전역객체는

1. 표준 빌트인 객체와
2. 환경에 따른 호스트객체
3. var 키워드로 생성한 전역변수
4. 전역함수 를 프로퍼티로 갖는다

### 전역객체의 문제점

1. 암묵적결합 :

- 변수의 스코프가 전역이므로 가독성이나빠지고 의도치 않은 상태 변경의 위험이 존재한다

2. 긴생명주기 :

- 생명주기가 기므로 메모리 리소스를 오래 소비한다.

3. 스코프체인상의 종점 :

- 스코프 체인상의 종점에 존재하므로 검색속도가 느리다

4. 네임스페이스 오염 :

- 분리된 파일에서도 전역 스코프를 공유하므로 예상치 못한 결과를 가져올 위험이 존재한다.

### 전역변수 억제

1. 즉시실행 함수

- 모든 코드를 즉시 실행함수로 감쌀시 모든 변수는 즉시실행 함수의 지역변수가 된다

2. 네임스페이스 객체

- 전역변수로 네임스페이스 객체를 생성하여 전역변수를 프로퍼티로 추가한다

3. 모듈패턴




#### reference

